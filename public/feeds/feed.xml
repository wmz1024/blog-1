<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Willie</title>
        <link>https://www.wll.moe</link>
        <description>RSS for blog</description>
        <lastBuildDate>Mon, 25 Apr 2022 07:53:29 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <copyright>Copyright 2022 - Willie</copyright>
        <item>
            <title><![CDATA[ä½¿ç”¨archlinuxæ­å»ºè·¯ç”±å™¨[è½¬è½½]]]></title>
            <link>https://wll.moe/posts/archrouter</link>
            <guid>https://wll.moe/posts/archrouter</guid>
            <pubDate>Tue, 19 Apr 2022 16:00:00 GMT</pubDate>
            <description><![CDATA[Use Archlinux build router]]></description>
            <content:encoded><![CDATA[<h1 id="å®‰è£…ç³»ç»Ÿ"><a aria-hidden="true" tabindex="-1" href="#å®‰è£…ç³»ç»Ÿ"><span class="icon icon-link"></span></a>å®‰è£…ç³»ç»Ÿ</h1>
<p>å®‰è£… Arch Linuxã€‚ä¸è¿‡ï¼Œå…ˆè·³è¿‡ã€Œè®¾ç½®ç½‘ç»œç®¡ç†å™¨ã€è¿™ä¸€æ­¥</p>
<h1 id="è®¾ç½®ç½‘ç»œç®¡ç†å™¨"><a aria-hidden="true" tabindex="-1" href="#è®¾ç½®ç½‘ç»œç®¡ç†å™¨"><span class="icon icon-link"></span></a>è®¾ç½®ç½‘ç»œç®¡ç†å™¨</h1>
<p>è¿™æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>systemd-networkd</strong>ã€‚</p>
<p>è®¾å¤‡æ˜¯åŒç½‘å£çš„ï¼Œå°†ä¼šä¸€ä¸ªå£åš WAN å£æ¥å¤–ç½‘ï¼Œå¦ä¸€ä¸ªå£åš LAN å£ï¼ˆæ¥äº¤æ¢æœºï¼Œæ¥ç”µè„‘ï¼Œæ¥ APï¼Œæ¥æ”¯æŒæ¡¥æ¥çš„è·¯ç”±å™¨ WAN å£ï¼Œæˆ–è€…æ¥å…³äº† DHCP çš„ä¸æ”¯æŒæ¡¥æ¥çš„è·¯ç”±å™¨ LAN å£éƒ½å¯ä»¥ï¼‰æˆ‘ä»¬éœ€è¦é…ç½®ä¸¤ä¸ªç½‘ç»œè®¾ç½®ï¼Œå¹¶ä¸”æ”¯æŒä¸èƒ½ç”¨ en äº†)
æˆ‘ä»¬å…ˆ <code>ip addr</code> çœ‹ä¸€ä¸‹ç°åœ¨è¿æ¥ç€çš„æ¥å£ï¼Œå°±æŠŠå®ƒå½“ä½œ WAN å£å¥½äº†</p>
<ul>
<li>é¦–å…ˆæ˜¯ WAN å£çš„é…ç½®ï¼š</li>
</ul>
<pre><code class="hljs language-shell">sudo vim /etc/systemd/network/20-ext-dhcp.network`
</code></pre>
<pre><code class="hljs language-shell">[Match]
Name=enp4s0

[Network]
DHCP=ipv4
IPv6AcceptRA=yes # æ¥æ”¶ IPv6 çš„è·¯ç”±é€šå‘Š

[DHCPv4]
UseHostname=true
</code></pre>
<ul>
<li>ç„¶åæ¥è®¾ç½® LAN å£ï¼š</li>
</ul>
<pre><code class="hljs language-shell">sudo vim 21-int.network
</code></pre>
<pre><code class="hljs language-shell">[Match]
Name=enp3s0

[Link]
Multicast=yes

[Network]
Address=10.0.0.1/16
MulticastDNS=yes
IPMasquerade=both
IPv6SendRA=yes
DHCPv6PrefixDelegation=yes

[IPv6SendRA]
Managed=yes
OtherInformation=yes
</code></pre>
<p><strong>10.0.0.1/16</strong> æ˜¯å°†æ¥è½¯è·¯ç”± LAN å£çš„ IP åœ°å€å’Œå­ç½‘ï¼ˆå¦‚æœçœ‹ä¸æ‡‚ xx.xx.xx.xx/xx è¿™æ ·çš„è¡¨ç¤ºæ–¹å¼ï¼Œäº†è§£ä¸€ä¸‹ IP-CIDRï¼‰</p>
<ul>
<li>å¼€å¯ DNS æœåŠ¡å™¨</li>
</ul>
<p>æˆ‘ä»¬æš‚ä¸”ä½¿ç”¨ <strong>systemd-resolved</strong> çš„ DNS æœåŠ¡å™¨ã€‚å¼€å¯çš„æ–¹æ³•éå¸¸ç®€å•ï¼Œåªè¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p>
<pre><code class="hljs language-shell">sudo vim /etc/systemd/resolved.conf.d/listen-on-internal.conf
</code></pre>
<pre><code class="hljs language-shell">[Resolve]
DNSStubListenerExtra=10.0.0.1
</code></pre>
<p>ç„¶åï¼Œå¾—ç¡®å®š <strong>systemd-networkd</strong> çš„ä¸¤ä¸ªæœåŠ¡å¯ç”¨</p>
<pre><code class="hljs language-shell">systemctl enable systemd-networkd
systemctl enable systemd-resolved
</code></pre>
<ul>
<li>è®¾ç½® DHCP æœåŠ¡å™¨</li>
</ul>
<p>æˆ‘ä»¬è¦ç”¨çš„ <strong>dhcpd</strong> æœåŠ¡ä½äº dhcp è¿™ä¸ªåŒ…</p>
<p>ï¼ˆdhcpcd æ—¶ DHCP å®¢æˆ·ç«¯ï¼Œc ä»£è¡¨ clientï¼Œd ä»£è¡¨ daemonï¼Œåå°æœåŠ¡ï¼‰</p>
<pre><code class="hljs language-shell">sudo pacman -S dhcp
</code></pre>
<ul>
<li>ç„¶ååˆ›å»ºæ–‡ä»¶</li>
</ul>
<pre><code class="hljs language-shell">sudo vim /etc/dhcpd.conf
</code></pre>
<p>åœ¨è¿™é‡Œå¯ä»¥é…ç½®åˆ†é… IP çš„èŒƒå›´ï¼Œä»¥åŠå›ºå®š IP åˆ†é…</p>
<pre><code class="hljs language-shell">option domain-name-servers 10.0.0.1;
option subnet-mask 255.255.0.0;
option routers 10.0.0.1;
subnet 10.0.0.0 netmask 255.255.0.0 {
    range 10.0.1.4 10.0.1.250;
    host clansty-mac {
        hardware ethernet f8:e4:3b:77:c1:b7;
        fixed-address 10.0.0.2;
    }
    host ap {
        hardware ethernet 28:d1:27:99:5b:26;
        fixed-address 10.0.2.1;
    }
}
</code></pre>
<p>å¦å¤–ï¼Œdhcpd é»˜è®¤ä¼šåœ¨æ‰€æœ‰çš„æ¥å£ä¸Šè¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æœåŠ¡æ–‡ä»¶ï¼Œç»™å®ƒåŠ ä¸ªå‚æ•°</p>
<pre><code class="hljs language-shell">sudo cp /usr/lib/systemd/system/dhcpd4.service /etc/systemd/system/dhcpd4@.service
sudo vim /etc/systemd/system/dhcpd4@.service
</code></pre>
<pre><code class="hljs language-shell">  ...
  [Service]
  Type=forking
- ExecStart=/usr/bin/dhcpd -4 -q -cf /etc/dhcpd.conf -pf /run/dhcpd4/dhcpd.pid
+ ExecStart=/usr/bin/dhcpd -4 -q -cf /etc/dhcpd.conf -pf /run/dhcpd4/dhcpd.pid %I
  ...
</code></pre>
<p>ç„¶åæˆ‘ä»¬å¯ç”¨æœåŠ¡å°±å¯ä»¥äº†</p>
<pre><code class="hljs language-shell">systemctl enable dhcpd4@enp3s0.service
</code></pre>
<ul>
<li>å¼€å¯å†…æ ¸ç½‘ç»œè½¬å‘</li>
</ul>
<pre><code class="hljs language-shell">sudo vi /etc/sysctl.d/30-ipforward.conf
net.ipv4.ip_forward=1
net.ipv6.ip_forward=1
</code></pre>
<p>ç°åœ¨ï¼Œé‡å¯è¿›å…¥ç³»ç»Ÿï¼Œç„¶åæŠŠç”µè„‘æ¥åˆ°è½¯è·¯ç”±åˆšæ‰å®šä¹‰çš„ LAN å£ä¸Šï¼Œç”µè„‘åº”è¯¥å°±èƒ½è·å–åˆ° IP åœ°å€ï¼Œå¹¶ä¸”èƒ½ä¸Šç½‘äº†</p>
<h1 id="å®‰è£…-clash"><a aria-hidden="true" tabindex="-1" href="#å®‰è£…-clash"><span class="icon icon-link"></span></a>å®‰è£… Clash</h1>
<p>é¦–å…ˆæ˜¯å®‰è£…è½¯ä»¶åŒ…ã€‚<strong>clash-premium-bin</strong> åŒ…åœ¨ Clansty æºé‡Œ</p>
<pre><code class="hljs language-shell">sudo pacman -S clash-premium-bin
</code></pre>
<p>ç„¶åå°†ä½ çš„ clash é…ç½®æ–‡ä»¶æ”¾ç½®åœ¨ <code>/etc/clash</code> ä¸­ã€‚ç”±äºåŒ…é‡Œçš„æœåŠ¡æ–‡ä»¶æ˜¯ç”¨æˆ·çº§åˆ«çš„ï¼Œæˆ‘ä»¬ç°åœ¨åˆ›å»ºä¸€ä¸ªç³»ç»Ÿçº§åˆ«æœåŠ¡</p>
<pre><code class="hljs language-shell">sudo vim /etc/systemd/system/clash.service
</code></pre>
<pre><code class="hljs language-shell">[Unit]
Description=A rule based proxy in Go for neko.
After=network.target

[Service]
Type=exec
Restart=on-abort
ExecStart=/usr/bin/clash -d /etc/clash

[Install]
WantedBy=multi-user.target
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç¦ç”¨ <strong>systemd-resolved</strong> äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥è¦ç”¨ clash è‡ªå¸¦çš„ DNS æœåŠ¡å™¨ï¼Œå®ç° DOTï¼ŒDOH æˆ–æ˜¯ FakeIP</p>
<pre><code class="hljs language-shell">sudo systemctl disable --now systemd-resolved
sudo rm /etc/resolv.conf
echo 'nameserver 127.0.0.1' | sudo tee /etc/resolv.conf
</code></pre>
<p>Clash çš„é…ç½®æ–‡ä»¶ä¸­è¦æœ‰ä»¥ä¸‹å†…å®¹</p>
<pre><code class="hljs language-shell">
tun:
  enable: true
  stack: system
  dns-hijack:
   - tcp://8.8.8.8:53
   - udp://8.8.8.8:53

dns:
  enable: true
  enhanced-mode: æ˜¯ä»€ä¹ˆå‘¢
  fake-ip-range: 198.19.0.1/16 # å°†ä¼šæ˜¯ tun çš„å­ç½‘
  listen: 0.0.0.0:53
  default-nameserver:
    # ç”¨æ¥æ‰¾é‚£äº› DOH åŸŸåçš„ IP çš„ DNS æœåŠ¡å™¨
    - 223.5.5.5
    - 8.8.8.8
  nameserver:
    # é»˜è®¤ç”¨è¿™äº›æœåŠ¡å™¨æ¥æŸ¥è¯¢
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
<span class="hljs-meta prompt_">  	# </span><span class="bash">ç¬¦åˆä¸‹ä¸€èŠ‚çš„æ¡ä»¶æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹ DNS æœåŠ¡å™¨æŸ¥è¯¢</span>
    - https://dns.google/dns-query
    - https://1.1.1.1/dns-query
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
      - 127.0.0.1/8
      - 0.0.0.0/32
    domain:
      - +.google.com
      - +.twitter.com
      - +.google.com.hk
      - +.googleapis.com
  ipv6: true
</code></pre>
<p>ä¸€ç§ä¸å¤ªå¯¹çš„é…ç½®æ–¹æ³•
è¿™æ˜¯æˆ‘åˆšå¼€å§‹çš„æ—¶å€™ç”¨çš„æ–¹æ³•ã€‚ç”¨å®Œä¹‹åæ„Ÿè§‰ï¼Œæ€ä¹ˆè¿™ä¹ˆå¿«å°±å¥½äº†ï¼Œä¸è¿‡å¥½åƒæœ‰å“ªé‡Œä¸å¯¹ã€‚</p>
<p>è¿™æ˜¯åŸºäº FakeIP çš„æ–¹æ³•ï¼Œè®© clash çš„ DNS è¿”å›è™šæ‹Ÿçš„ IP åœ°å€ã€‚è€Œè™šæ‹Ÿ IP æ°å¥½åœ¨ Clash Tun çš„å­ç½‘ä¸‹ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨è·¯ç”±åˆ° clash ä¸­ã€‚</p>
<pre><code class="hljs language-shell">dns:
  enable: true
  enhanced-mode: fake-ip
sudo systemctl enable --now clash
</code></pre>
<p>è¿™æ ·ä¹‹åï¼Œåœ¨ç”µè„‘ä¸Šæ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œè¯¶ ç½‘éƒ½èƒ½ä¸Šäº†ï¼</p>
<p>ä¸è¿‡ï¼Œåé¢è½¬åœˆåœˆçš„ Telegram è¿˜åœ¨è½¬åœˆåœˆï¼Œéœ€è¦æŒ‡å®šä»£ç†ä¸º <strong>10.0.0.1:7890</strong> è¿™æ ·æ‰èƒ½è¿ä¸Š</p>
<p>å‡ºç°è¿™æ ·çš„é—®é¢˜ä¹Ÿå°±æ˜¯å› ä¸º FakeIP çš„åŸç†ï¼Œå¿…é¡»æ˜¯ç»è¿‡ clash DNS æœåŠ¡å™¨è¿›è¡Œè§£æçš„ï¼Œé€šè¿‡åŸŸåçš„è¿æ¥æ‰ä¼šé€šè¿‡ clash</p>
<p>è¿™ä¹ˆåšå…¶å®åº”è¯¥è¯´åªæ˜¯ä¸æ¨èï¼Œä¸æ˜¯ä¸è¡Œã€‚æ‰€ä»¥æˆ‘å†™åœ¨è¿™é‡Œ</p>
<p>æ¯”è¾ƒå¥½ï¼ˆä½†æ˜¯å¤æ‚ï¼‰çš„é…ç½®æ–¹æ³•
æˆ‘ä»¬ç°åœ¨æŠŠ DNS æ”¹ä¸º <strong>redir-host</strong>ï¼Œè¿™æ—¶å€™ clash DNS å°±ä¼šåšä¸€ä¸ªæ™®é€š DNS æœåŠ¡å™¨çš„äº‹ï¼Œå°†å®‰å…¨çš„ DOT æˆ–è€… DOH åè®®è½¬æ¢ä¸º UDP53 çš„ DNS åè®®</p>
<pre><code class="hljs language-shell">dns:
  enable: true
  enhanced-mode: fake-ip
</code></pre>
<p>è¿™æ ·ä¹‹åï¼Œå†å¯åŠ¨ clashï¼Œæˆ‘ä»¬çš„æµé‡å¹¶æ²¡æœ‰ç»è¿‡ clashã€‚</p>
<p>æŸ¥çœ‹ <code>ip route</code> å‘ç°ï¼Œæˆ‘ä»¬é»˜è®¤çš„æµé‡è·¯ç”±è¿˜æ˜¯ WAN å£çš„ç½‘å¡ã€‚æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–è¾‘è·¯ç”±è¡¨ï¼ŒæŠŠ LAN å£ä¼ å…¥çš„åˆ°å¤–ç½‘çš„æµé‡ä¼ é€’ç»™ tun çš„ç½‘å¡ã€‚</p>
<p>å¦‚æœç¼–è¾‘ä¸»è·¯ç”±è¡¨çš„è¯ï¼Œä¼šå¯¼è‡´ clash è‡ªå·±è¿æ¥æœåŠ¡å™¨çš„æµé‡ä¹Ÿä¼ é€’ç»™è‡ªå·±ï¼Œç„¶åå°±é€ æˆå¾ªç¯äº†ï¼Œè¿™ä¸å¥½ã€‚æ‰€ä»¥æˆ‘ä»¬ç¼–è¾‘ä¸€å¼ æ–°çš„è·¯ç”±è¡¨ï¼Œå¹¶ä¸”åªç”¨æ¥å¤„ç† LAN å£æµé‡</p>
<p>è¿™é‡Œçš„ <strong>198.19.0.1</strong> å’Œ <strong>198.19.0.0/16</strong> å°±å¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ dns.fake-ip-rangeã€‚å¦‚æœæ²¡æœ‰è®¾ç½® clash çš„ DNS æœåŠ¡å™¨çš„è¯ï¼Œé»˜è®¤å°†ä¼šæ˜¯ 198.18.0.1/16</p>
<pre><code class="hljs language-shell">sudo ip route add default via 198.19.0.1 dev utun table 233
sudo ip route add 198.19.0.0/16 dev utun table 233
sudo ip route add 10.0.0.0/16 dev enp3s0 table 233

sudo ip rule add from 10.0.0.0/16 table 233
</code></pre>
<p>è¿™å‡ è¡Œå‘½ä»¤å‡ºäº†ä¹‹åï¼Œåé¢çš„ Telegram ç«‹å³è¿ä¸Šäº†ï¼Œå¹¶ä¸”ç½‘é¡µä»€ä¹ˆçš„ä¹Ÿå…¨éƒ½æ­£å¸¸äº†ã€‚ç°åœ¨å®¢æˆ·ç«¯è·å–åˆ°çš„ IP ä¹Ÿæ˜¯çœŸå®çš„ IPï¼ˆä½†è¿™æ ·ä¼šæ¯” FakeIP æ€§èƒ½å·®ä¸€äº›ï¼‰</p>
<p>ç„¶åï¼Œæˆ‘ä»¬æŠŠè¿™äº›å†™åˆ°è„šæœ¬é‡Œé¢ï¼Œå¹¶åœ¨ clash å¯åŠ¨ä¹‹åå°±è‡ªåŠ¨è¿è¡Œ</p>
<pre><code class="hljs language-shell">sudo mkdir /etc/clash/scripts
sudo vi /etc/clash/scripts/setup.sh
</code></pre>
<pre><code class="hljs language-shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>
<span class="hljs-meta prompt_">
#</span><span class="bash"><span class="hljs-built_in">wait</span> <span class="hljs-keyword">for</span> TUN device</span>
while ! ip address show utun > /dev/null; do
    sleep 0.2
done
</code></pre>
<pre><code class="hljs language-shell">ip route flush table 233
ip route add default via 198.19.0.1 dev utun table 233
ip route add 198.19.0.0/16 dev utun table 233
ip route add 10.0.0.0/16 dev enp3s0 table 233

ip rule add from 10.0.0.0/16 table 233
</code></pre>
<p>å†å†™ä¸€ä¸ªåœ¨ clash é€€å‡ºçš„æ—¶å€™è¿˜åŸé…ç½®çš„è„šæœ¬</p>
<pre><code class="hljs language-shell">sudo vi /etc/clash/scripts/unsetup.sh
</code></pre>
<pre><code class="hljs language-shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>

ip rule delete from all table 233
ip route flush table 233
</code></pre>
<p>ç¨å¾®æ”¹ä¸€ä¸‹ clash çš„ <strong>systemd</strong> æœåŠ¡ï¼Œå°±æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„é‚£ä¸ª</p>
<pre><code class="hljs language-shell">  [Service]
  Type=exec
  Restart=on-abort
  ExecStart=/usr/bin/clash -d /etc/clash
+ ExecStartPost=+/etc/clash/scripts/setup.sh
+ ExecStopPost=+/etc/clash/scripts/unsetup.sh
</code></pre>
<p>è¿™æ ·ä¹‹åï¼Œå°±ç®—å†é‡å¯ï¼Œæˆ‘ä»¬çš„æœåŠ¡ä¹Ÿèƒ½æ­£å¸¸äº†</p>
<hr/>
<p>è½¬è½½è‡ª<a href="https://nyac.at/posts/archlinux-router">æ­¤æ–‡</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[æµ…è°ˆæ­å»ºç°ä»£åŒ–é™æ€åšå®¢]]></title>
            <link>https://wll.moe/posts/staticblog</link>
            <guid>https://wll.moe/posts/staticblog</guid>
            <pubDate>Mon, 18 Apr 2022 16:00:00 GMT</pubDate>
            <description><![CDATA[talking how to make a static blog...]]></description>
            <content:encoded><![CDATA[<h1 id="å›é¡¾è¿‡å»æ­å»º"><a aria-hidden="true" tabindex="-1" href="#å›é¡¾è¿‡å»æ­å»º"><span class="icon icon-link"></span></a>å›é¡¾è¿‡å»æ­å»º</h1>
<p>ç¬¬ä¸€æ¬¡æ­å»ºæ˜¯åœ¨ 2020 å¹´çš„å‡æœŸï¼Œåˆ©ç”¨ç”µè„‘æ­å»ºäº†åŸºäº<strong>Gridea</strong>æ„å»ºçš„åšå®¢ã€‚ç”¨ç€ä¸€æ¬¾å¾ˆç®€çº¦çš„ä¸»é¢˜<a href="https://github.com/ITJoker233/Gridea-theme-Chic">Chic</a>ï¼ŒæˆåŠŸçš„æ­å»ºäº†ç¬¬ä¸€ä¸ªè‡ªå·±çš„ç«™ç‚¹ã€‚ä½†å®ƒæœ‰ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼šåªèƒ½ç”¨æœ¬åœ°çš„å®¢æˆ·ç«¯ï¼Œä¸æ”¯æŒæ‰‹æœºï¼Œä¹Ÿä¸å®¹æ˜“äº‘ç«¯æ“ä½œã€‚æ‰€ä»¥è¯´å®ƒå¹¶ä¸æ»¡è¶³æˆ‘çš„éœ€æ±‚ã€‚</p>
<p>ä¹‹åæˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„ç¨‹åºï¼Œå«åš<strong>Pandoc</strong>ã€‚</p>
<blockquote>
<p>Pandoc is a free and open-source document converter, widely used as a writing tool (especially by scholars)[2] and as a basis for publishing workflows.[3] It was created by John MacFarlane, a philosophy professor at the University of California, Berkeley.â€Šâ€”â€ŠFrom WikiPedia.</p>
</blockquote>
<p>å®ƒå¯ä»¥è½¬æ¢åŒ…æ‹¬ <code>PDF</code>, <code>MD</code>, <code>HTML</code>, ç”šè‡³æ˜¯<code>Word</code>ç­‰åå‡ ç§æ ¼å¼ï¼Œè¿˜æ‹¥æœ‰å¼ºå¤§çš„è‡ªå®šä¹‰åŠŸèƒ½ã€‚å®ƒå¾®ä¸è¶³é“çš„å°åŠŸèƒ½å°±æ»¡è¶³æˆ‘çš„åšå®¢éœ€æ±‚äº†ã€‚æˆ‘å‚è€ƒäº†<a href="https://ayaka.shn.hk/">ä¸‰æ—¥æœˆç¶¾é¦™</a>çš„åšå®¢ï¼Œå†™å‡ºäº†å®Œå…¨ç”±è‡ªå·±è®¾è®¡çš„ç½‘é¡µï¼Œå‘å¸ƒäº†ä¸¤æ¬¾ä¸»é¢˜ï¼š<a href="https://github.com/xuwillie/theme-clean">Clean</a>å’Œ<a href="https://github.com/xuwillie/theme-console">Console</a>ã€‚</p>
<img src="https://wll.moe/Screenshot_20220419_182819.jpg" alt="" width="1080" height="1800"/>
<p>é™¤äº†è¿™å‡ ä¸ªåé—¨çš„æ–¹æ¡ˆï¼Œè¿˜æœ‰ä¸€äº›å¾ˆæµè¡Œçš„é™æ€åšå®¢æ¡†æ¶ï¼Œæ¯”å¦‚ <strong>Hexo</strong>, <strong>Hugo</strong>, <strong>Jekyll</strong> ç­‰ã€‚ç„¶è€Œå·²ç»æœ‰äº†è¿™ä¹ˆå¤šå¥½çš„é€‰æ‹©ï¼Œæˆ‘å´æ²¡æœ‰ç”¨è¿™äº›!</p>
<p><strong>ä»Šå¹´ 2 äºŒæœˆä»½</strong>ï¼Œæˆ‘çœ‹åˆ°äº†æ—¥æœ¬çš„ä¸€ä½å‰ç«¯å·¥ç¨‹å¸ˆ <strong>Takuya Matsuyama</strong> ç”¨ NextJS åˆ¶ä½œçš„çš„<a href="https://craftz.dog">ä¸ªäººç½‘ç«™</a>ï¼Œäº†è§£äº†å…¶æ­å»ºè¿‡ç¨‹ï¼Œè¿™ä½¿æˆ‘èµ°å‘äº†ä½¿ç”¨ React å…ƒæ¡†æ¶çš„é“è·¯ã€‚</p>
<p>ç›¸æ¯”æ™®é€šçš„åšå®¢ç½‘ç«™ï¼Œç”¨ React å…ƒæ¡†æ¶å’Œ NextJS åˆ¶ä½œçš„ç½‘ç«™æ›´åŠ å…ˆè¿›ï¼Œç°ä»£ï¼š</p>
<ol>
<li>åˆ‡æ¢é¡µé¢æ—¶ç½‘ç«™åªä¼šåŠ è½½æ–°çš„æœªåŠ è½½çš„å†…å®¹ï¼Œé‡å¤åˆ©ç”¨ç°æœ‰èµ„æºï¼Œå‡å°‘äº†ä¸å¿…è¦çš„åŠ è½½æ—¶é—´ï¼Œæå‡äº†ç½‘ç«™æ€§èƒ½ã€‚</li>
<li>ç½‘ç«™é‡è½½ä¸éœ€è¦åˆ·æ–°ï¼Œé€šè¿‡æ¯”å¦‚ <strong>Framer-motion</strong> å®ç°åŠ¨ç”»æ•ˆæœï¼Œæœ‰ç€ Native çº§çš„æµè§ˆä½“éªŒ</li>
<li><strong>React</strong>å…ƒæ¡†æ¶æœ‰ç€ä¸°å¯Œçš„ç”Ÿæ€é“¾ï¼Œå¯ä»¥å¿«é€Ÿå®ç°æ¯”å¦‚åŠ¨ç”»ï¼Œæš—é»‘æ¨¡å¼æ•ˆæœã€‚NextJS ä¹Ÿä½¿å¾—æ”¯æŒæ›´å¤šè·å–æ•°æ®çš„æ–¹å¼ï¼Œæ¯”å¦‚ <strong>CMS</strong>(See <a href="https://github.com/vercel/next.js/tree/canary/examples/cms-builder-io">NextJS Example</a>)ï¼Œå¯ä»¥å®ç°è·å–äº‘ç«¯å†…å®¹æ¸²æŸ“æˆæ–‡ç« ï¼Œå³ä½¿æ˜¯æ²¡æœ‰åç«¯çš„é™æ€åšå®¢ï¼</li>
</ol>
<p>ç°åœ¨æ¥è¯´è¯´å¦‚ä½•ç”¨ Nextjs æ¥åˆ¶ä½œåšå®¢å§ï¼</p>
<h1 id="æ­å»ºè¿‡ç¨‹"><a aria-hidden="true" tabindex="-1" href="#æ­å»ºè¿‡ç¨‹"><span class="icon icon-link"></span></a>æ­å»ºè¿‡ç¨‹</h1>
<blockquote>
<p>æ­å»ºè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œè¯·çœ‹å®Œæˆ‘çš„æ‰€æœ‰æ­¥éª¤ï¼</p>
</blockquote>
<h2 id="å‡†å¤‡å·¥ä½œç»ˆç«¯ç¯å¢ƒä¸­è¿›è¡Œ"><a aria-hidden="true" tabindex="-1" href="#å‡†å¤‡å·¥ä½œç»ˆç«¯ç¯å¢ƒä¸­è¿›è¡Œ"><span class="icon icon-link"></span></a>å‡†å¤‡å·¥ä½œ(ç»ˆç«¯ç¯å¢ƒä¸­è¿›è¡Œ)</h2>
<p>é¦–å…ˆä½ éœ€è¦å®‰è£… <strong>NodeJS</strong> ç¯å¢ƒï¼ŒWindows ç”¨æˆ·å¯ä»¥ç”¨ <strong>chocolatey</strong> é€šè¿‡å‘½ä»¤å®‰è£…ï¼Œ<code>choco install nodejs yarn</code>ã€‚</p>
<h3 id="é€‰æ‹©ä¸€ä¸ªç›®å½•å¹¶åˆå§‹åŒ–é¡¹ç›®"><a aria-hidden="true" tabindex="-1" href="#é€‰æ‹©ä¸€ä¸ªç›®å½•å¹¶åˆå§‹åŒ–é¡¹ç›®"><span class="icon icon-link"></span></a>é€‰æ‹©ä¸€ä¸ªç›®å½•å¹¶åˆå§‹åŒ–é¡¹ç›®</h3>
<pre><code class="hljs language-shell">yarn init -y
mkdir pages
mkdir components
mkdir lib
mkdir styles
mkdir _posts
touch next.config.js
touch .eslintrc.json
touch .prettierignore
touch prettier.config.js
yarn add @mdx-js/loader gray-matter next-mdx-remote next-compose-plugins rehype remark remark-html react react-dom next eslint eslint-config-next prettier
</code></pre>
<blockquote>
<p><strong>ESlint</strong>æ˜¯ç”¨æ¥è¯­æ³•æ£€æŸ¥çš„å·¥å…·ã€‚ <strong>prettier</strong> ç”¨æ¥æ•´ç†ä»£ç ã€‚</p>
</blockquote>
<h3 id="ç¼–å†™æ–‡ä»¶"><a aria-hidden="true" tabindex="-1" href="#ç¼–å†™æ–‡ä»¶"><span class="icon icon-link"></span></a>ç¼–å†™æ–‡ä»¶</h3>
<p>ç¼–å†™ package.json</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Willie-homepage"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Willie's website"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next start"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prettier --write ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next lint"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Willie"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MIT"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@mdx-js/loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"date-fns"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"gray-matter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"next"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"next-compose-plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"next-mdx-remote"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"rehype"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"remark"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"remark-html"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint-config-next"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>è¯·å°† <strong>name</strong>ï¼Œ<strong>author</strong> ç­‰ä¸ªäººä¿¡æ¯è‡ªè¡Œä¿®æ”¹</p>
</blockquote>
<p>ç¼–å†™ next.config.js</p>
<pre><code class="hljs language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">reactStrictMode</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">swcMinify</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>ç¼–å†™ .eslintrc.json</p>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"root"</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">true</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"extends"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"no-unused-vars"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"error"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"argsIgnorePattern"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^_"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"varsIgnorePattern"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^_"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react/display-name"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç¼–å†™ .prettierignore</p>
<pre><code class="hljs language-json">node_modules
.next
</code></pre>
<p>ç¼–å†™ prettier.config.js</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">arrowParens</span>: <span class="hljs-string">"avoid"</span>,
  <span class="hljs-attr">singleQuote</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">bracketSpacing</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">endOfLine</span>: <span class="hljs-string">"if"</span>,
  <span class="hljs-attr">semi</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">tabwidth</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">trailingComma</span>: <span class="hljs-string">"none"</span>,
};
</code></pre>
<p>åˆ›å»ºè‡ªå®šä¹‰æ ·å¼</p>
<p>åœ¨ <code>styles/global.css</code> é‡Œå°†ä½ æ‰€éœ€è¦æ ·å¼å¡«å†™è¿›å»</p>
<p>åˆ›å»ºè·å–æ–‡ç« å†…å®¹çš„ JS</p>
<p>åœ¨ <code>lib/mdx.js</code> é‡Œå†™å…¥ä»¥ä¸‹å†…å®¹</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs"</span>;
<span class="hljs-keyword">import</span> matter <span class="hljs-keyword">from</span> <span class="hljs-string">"gray-matter"</span>;
<span class="hljs-keyword">import</span> { serialize } <span class="hljs-keyword">from</span> <span class="hljs-string">"next-mdx-remote/serialize"</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">"path"</span>;

<span class="hljs-keyword">const</span> root = process.<span class="hljs-title function_">cwd</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getFiles</span>(<span class="hljs-params">type</span>) {
  <span class="hljs-keyword">return</span> fs.<span class="hljs-title function_">readdirSync</span>(path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">"_posts"</span>, type));
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getFileBySlug</span>(<span class="hljs-params">type, slug</span>) {
  <span class="hljs-keyword">const</span> source = slug
    ? fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">"_posts"</span>, type, <span class="hljs-string">`<span class="hljs-subst">${slug}</span>.mdx`</span>), <span class="hljs-string">"utf-8"</span>)
    : fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">"_posts"</span>, <span class="hljs-string">`<span class="hljs-subst">${type}</span>.mdx`</span>), <span class="hljs-string">"utf-8"</span>);

  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: metaData, content } = <span class="hljs-title function_">matter</span>(source);
  <span class="hljs-keyword">const</span> contentSerialized = <span class="hljs-keyword">await</span> <span class="hljs-title function_">serialize</span>(content);

  <span class="hljs-keyword">return</span> {
    content,
    contentSerialized,
    <span class="hljs-attr">slug</span>: slug ? slug : <span class="hljs-literal">null</span>,
    metaData,
  };
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAllFilesFrontMatter</span>(<span class="hljs-params">type</span>) {
  <span class="hljs-keyword">const</span> files = fs.<span class="hljs-title function_">readdirSync</span>(path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">"_posts"</span>, type));

  <span class="hljs-keyword">return</span> files.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">allPosts, postSlug</span>) =></span> {
    <span class="hljs-keyword">const</span> source = fs.<span class="hljs-title function_">readFileSync</span>(
      path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">"_posts"</span>, type, postSlug),
      <span class="hljs-string">"utf-8"</span>
    );
    <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">matter</span>(source);

    <span class="hljs-keyword">return</span> [
      {
        ...data,
        <span class="hljs-attr">slug</span>: postSlug.<span class="hljs-title function_">replace</span>(<span class="hljs-string">".mdx"</span>, <span class="hljs-string">""</span>),
      },
      ...allPosts,
    ];
  }, []);
}
</code></pre>
<blockquote>
<p>è¿™æ®µä»£ç è·å–äº†æ–‡ä»¶åä½œä¸ºè·¯å¾„ï¼Œç”¨ <strong>front-matter</strong> è·å–äº† <strong>Markdown</strong> æ–‡ä»¶çš„å†…å®¹å’Œåª’ä½“ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥åœ¨ <a href="https://nextjs.org">NextJS</a> æ–‡æ¡£ä¸­æ‰¾åˆ°ç›¸å…³ä»‹ç»ï¼</p>
</blockquote>
<p>ç¼–å†™ <code>pages/_app.js</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">"../styles/global.css"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params">{ Component, pageProps }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag"><<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /></span></span>;
}
</code></pre>
<p>ç¼–å†™ <code>components/BlogPost/index.js</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">NextLink</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next/link"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">BlogPost</span> = (<span class="hljs-params">{ title, date, excerpt, slug }</span>) => {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag"><<span class="hljs-name">NextLink</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{</span>`/${<span class="hljs-attr">slug</span>}`} <span class="hljs-attr">passHref</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">li</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"postdate"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">span</span>></span>{date}<span class="hljs-tag"></<span class="hljs-name">span</span>></span>
        <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">h2</span>></span>{title}<span class="hljs-tag"></<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"excerpt"</span>></span>{excerpt}<span class="hljs-tag"></<span class="hljs-name">p</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">li</span>></span>
    <span class="hljs-tag"></<span class="hljs-name">NextLink</span>></span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">BlogPost</span>;
</code></pre>
<blockquote>
<p>è¯¥ä»£ç ç”Ÿæˆæ–‡ç« åˆ—è¡¨ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚ç¼–å†™ã€‚</p>
</blockquote>
<p>å¯¼èˆªæ  Nav çš„ä¾‹å­ï¼Œç¼–å†™ <code>components/Nav/index.js</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Nav</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag"><<span class="hljs-name">nav</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>></span>WLL<span class="hljs-symbol">â€˜</span>s blog<span class="hljs-tag"></<span class="hljs-name">h1</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"icon"</span>></span>â˜½<span class="hljs-tag"></<span class="hljs-name">p</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
    <span class="hljs-tag"></<span class="hljs-name">nav</span>></span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Nav</span>;
</code></pre>
<p>ç¼–å†™ <code>pages/index.js</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">BlogPost</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../components/BlogPost"</span>;
<span class="hljs-keyword">import</span> { getAllFilesFrontMatter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../lib/mdx"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Head</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next/head"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../components/Footer"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Nav</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../components/Nav"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Blog</span> = (<span class="hljs-params">{ posts }</span>) => {
  <span class="hljs-keyword">const</span> filteredBlogPosts = posts.<span class="hljs-title function_">sort</span>(
    <span class="hljs-function">(<span class="hljs-params">a, b</span>) =></span> <span class="hljs-title class_">Number</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(b.<span class="hljs-property">date</span>)) - <span class="hljs-title class_">Number</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(a.<span class="hljs-property">date</span>))
  );

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag"><></span>
      <span class="hljs-tag"><<span class="hljs-name">Head</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">title</span>></span>WLL<span class="hljs-symbol">â€˜</span>s blog<span class="hljs-tag"></<span class="hljs-name">title</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"WLL<span class="hljs-symbol">â€˜</span>s blog"</span> /></span>
      <span class="hljs-tag"></<span class="hljs-name">Head</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">Nav</span> /></span>
      <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"post-list"</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">h2</span>></span>â€» My Articles<span class="hljs-tag"></<span class="hljs-name">h2</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">ul</span>></span>
          {filteredBlogPosts.map((post) => (
            <span class="hljs-tag"><<span class="hljs-name">BlogPost</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{post.title}</span> {<span class="hljs-attr">...post</span>} /></span>
          ))}
        <span class="hljs-tag"></<span class="hljs-name">ul</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">Footer</span> /></span>
    <span class="hljs-tag"></></span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Blog</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getStaticProps</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> posts = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getAllFilesFrontMatter</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">props</span>: {
      posts,
    },
  };
};
</code></pre>
<blockquote>
<p>ä»£ç ä¸­çš„ Footer å¯ä»¥å‚è€ƒ Nav çš„ç¼–å†™ã€‚</p>
</blockquote>
<p>ç¼–å†™ <code>pages/[slug].js</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MDXRemote</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"next-mdx-remote"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Head</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next/head"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../components/Footer"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Nav</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../components/Nav"</span>;
<span class="hljs-keyword">import</span> { getFileBySlug, getFiles } <span class="hljs-keyword">from</span> <span class="hljs-string">"../lib/mdx"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">BlogPost</span> = (<span class="hljs-params">{ post }</span>) => {
  <span class="hljs-keyword">const</span> { metaData, contentSerialized } = post;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag"><<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">Head</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">title</span>></span>{metaData.title}<span class="hljs-tag"></<span class="hljs-name">title</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"{metaData.title}"</span> /></span>
      <span class="hljs-tag"></<span class="hljs-name">Head</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">Nav</span> /></span>
      <span class="hljs-tag"><<span class="hljs-name">header</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"card"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">h1</span>></span>{metaData.title}<span class="hljs-tag"></<span class="hljs-name">h1</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"date"</span>></span> âˆ‡ {metaData.date} <span class="hljs-tag"></<span class="hljs-name">h3</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"author"</span>></span> Â¶ Willie<span class="hljs-tag"></<span class="hljs-name">p</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">div</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"postexcerpt"</span>></span>{metaData.excerpt}<span class="hljs-tag"></<span class="hljs-name">p</span>></span>
          <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">header</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"post"</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">MDXRemote</span> <span class="hljs-attr">compiledSource</span>=<span class="hljs-string">{contentSerialized.compiledSource}</span> /></span>
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">Footer</span> /></span>
    <span class="hljs-tag"></<span class="hljs-name">div</span>></span></span>
  );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">BlogPost</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getStaticPaths</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> posts = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getFiles</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">paths</span>: posts.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =></span> ({
      <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">slug</span>: p.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.mdx/</span>, <span class="hljs-string">""</span>),
      },
    })),
    <span class="hljs-attr">fallback</span>: <span class="hljs-literal">false</span>,
  };
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getStaticProps</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">{ params }</span>) => {
  <span class="hljs-keyword">const</span> slug = params?.<span class="hljs-property">slug</span>;
  <span class="hljs-keyword">if</span> (slug) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getFileBySlug</span>(<span class="hljs-string">""</span>, slug);
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">props</span>: {
          post,
        },
      };
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
    }
  }

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">notFound</span>: <span class="hljs-literal">true</span>,
  };
};
</code></pre>
<blockquote>
<p>è¿™é‡Œæ˜¯æ–‡ç« çš„ç•Œé¢ï¼æ„Ÿè°¢çœ‹åˆ°è¿™ä¸€æ­¥ï¼Œè‡³æ­¤å·²ç»å¤§åŠŸå‘Šæˆäº†ï¼</p>
</blockquote>
<h2 id="å°è¯•ç¼–å†™æ–‡ç« "><a aria-hidden="true" tabindex="-1" href="#å°è¯•ç¼–å†™æ–‡ç« "><span class="icon icon-link"></span></a>å°è¯•ç¼–å†™æ–‡ç« </h2>
<blockquote>
<p>æ•´ç†ä¸€ä¸‹ä¹‹å‰å†™çš„ä»£ç </p>
</blockquote>
<pre><code class="hljs language-shell">yarn run prettier
</code></pre>
<blockquote>
<p>åœ¨ <code>_posts</code> ä¸­ç¼–å†™ä»¥ <strong>.mdx</strong> åç¼€çš„ Markdown æ–‡ä»¶</p>
</blockquote>
<p>ä¾‹å­</p>
<pre><code class="hljs language-md">---
title: "Something About Me"
date: "2021-07-18"
<span class="hljs-section">excerpt: "About..."
---</span>

<span class="hljs-section"># å…³äºæˆ‘</span>

è¿˜æœ‰å¾ˆå¤šè¦æ”¹å–„çš„åœ°æ–¹ï¼

<span class="hljs-section"># ç«™ç‚¹</span>

<span class="hljs-quote">> é™¤éå¦æœ‰è¯´æ˜ï¼Œæœ¬åšå®¢æ‰€æœ‰æ–‡ç« å‡é‡‡ç”¨`CC BY-NC-SA 4.0 è®¸å¯åè®®`ã€‚ è½¬è½½è¯·åœ¨æ–‡ä¸­æ˜æ˜¾ä½ç½®æ³¨æ˜å‡ºå¤„</span>
</code></pre>
<p>ç°åœ¨ç”¨ <code>yarn run dev</code> é¢„è§ˆå§ï¼</p>
<hr/>
<p>å†™è¿™ç¯‡æ–‡ç« èŠ±è´¹äº†å¾ˆé•¿æ—¶é—´ï¼Œä¹Ÿå¸Œæœ›ç½‘ç«™æ­å»ºçˆ±å¥½è€…ä»¬å¯ä»¥å‚è€ƒæœ¬æ–‡ï¼Œåˆ¶ä½œä¸€ä¸ªå®Œå…¨è‡ªå·± DIY çš„åšå®¢ã€‚å¯ä»¥å‚è€ƒè¿™ä¸ª<a href="https://old-blog-three.vercel.app/">åšå®¢</a>!</p>
<p>â€”-æœªå®Œå¾…ç»­</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Test]]></title>
            <link>https://wll.moe/posts/test</link>
            <guid>https://wll.moe/posts/test</guid>
            <pubDate>Sat, 01 Jan 2022 16:00:00 GMT</pubDate>
            <description><![CDATA[test]]></description>
            <content:encoded><![CDATA[<h1 id="alpha"><a aria-hidden="true" tabindex="-1" href="#alpha"><span class="icon icon-link"></span></a>Alpha</h1>
<h2 id="table-of-contents"><a aria-hidden="true" tabindex="-1" href="#table-of-contents"><span class="icon icon-link"></span></a>Table of Contents</h2>
<ul>
<li><a href="#autolink-literals">Autolink literals</a></li>
<li><a href="#footnote">Footnote</a></li>
<li><a href="#strikethrough">Strikethrough</a></li>
<li><a href="#table">Table</a></li>
<li><a href="#tasklist">Tasklist</a></li>
<li><a href="#mathkatex">Math&KateX</a></li>
</ul>
<h2 id="autolink-literals"><a aria-hidden="true" tabindex="-1" href="#autolink-literals"><span class="icon icon-link"></span></a>Autolink Literals</h2>
<p><a href="http://www.example.com">www.example.com</a>, <a href="https://example.com">https://example.com</a>, and <a href="mailto:contact@example.com">contact@example.com</a>.</p>
<h2 id="footnote"><a aria-hidden="true" tabindex="-1" href="#footnote"><span class="icon icon-link"></span></a>Footnote</h2>
<p>A note<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
<h2 id="strikethrough"><a aria-hidden="true" tabindex="-1" href="#strikethrough"><span class="icon icon-link"></span></a>Strikethrough</h2>
<p><del>one</del> or <del>two</del> tildes.</p>
<h2 id="table"><a aria-hidden="true" tabindex="-1" href="#table"><span class="icon icon-link"></span></a>Table</h2>
<table><thead><tr><th>a</th><th align="left">b</th><th align="right">c</th><th align="center">d</th></tr></thead></table>
<h2 id="tasklist"><a aria-hidden="true" tabindex="-1" href="#tasklist"><span class="icon icon-link"></span></a>Tasklist</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""/> to do</li>
<li class="task-list-item"><input type="checkbox" checked="" disabled=""/> done</li>
</ul>
<h2 id="mathkatex"><a aria-hidden="true" tabindex="-1" href="#mathkatex"><span class="icon icon-link"></span></a>Math&Katex</h2>
<p>Two ğŸ° is: 6.283185307179586</p>
<p>1 â†’ 2</p>
<p>1 Ã— 1 = 1</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>n</mi><mi>n</mi></msup><mspace width="1em"></mspace><mrow><mtext>n</mtext><mstyle scriptlevel="0" displaystyle="false"><mo>âˆˆ</mo><msup><mi>N</mi><mo>âˆ—</mo></msup></mstyle></mrow></mrow><annotation encoding="application/x-tex">f(n)=n^n \quad \text{n$\in N^\ast$}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7535em;vertical-align:-0.0391em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord">n</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>âˆ’</mo><mi>b</mi><mo>Â±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>âˆ’</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.2764em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5904em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">a</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">Â±</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em"><span class="svg-align" style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord" style="padding-left:0.833em"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">4</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span></span></span><span style="top:-2.8734em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em"><span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mi>M</mi><msup><mi>C</mi><mn>2</mn></msup><mspace linebreak="newline"></mspace><mn>3</mn><mo stretchy="false">!</mo><mo>=</mo><mn>3</mn><mo>âˆ—</mo><mn>2</mn><mo>âˆ—</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">E = MC^2 \\
    3! = 3*2*1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8641em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord">3</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span></div>
<section data-footnotes="true" class="footnotes"><h2 id="footnote-label" class="sr-only"><a aria-hidden="true" tabindex="-1" href="#footnote-label"><span class="icon icon-link"></span></a>Footnotes</h2>
<ol>
<li id="user-content-fn-1">
<p>Big note. <a href="#user-content-fnref-1" data-footnote-backref="true" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
</ol>
</section>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Gitment Fix Record]]></title>
            <link>https://wll.moe/posts/gitment</link>
            <guid>https://wll.moe/posts/gitment</guid>
            <pubDate>Tue, 24 Aug 2021 16:00:00 GMT</pubDate>
            <description><![CDATA[A record about fixing gitment]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>I couldnâ€™t run it correctly. According to search, I found the reason and the fix method. So how can we fix it?</p>
</blockquote>
<p>Due to unknown case, the maintainer donâ€™t update it with a long time. So the server get some problems.</p>
<h1 id="start"><a aria-hidden="true" tabindex="-1" href="#start"><span class="icon icon-link"></span></a>Start</h1>
<p>We can archieve it on Heroku clound!</p>
<ul>
<li>
<p>Log in <a href="https://www.heroku.com">Heroku</a></p>
</li>
<li>
<p>Fork the <a href="https://github.com/imsun/gh-oauth-server">server sources</a></p>
</li>
<li>
<p>Edit the package.json. Add â€œheroku": "NODE_ENV=production node serverâ€ in â€œscriptsâ€</p>
</li>
<li>
<p>Create Procfile, add web: npm run heroku, then create <strong>app.json</strong>, add â€œname": "gh-oauth-serverâ€</p>
</li>
<li>
<p>Open <a href="https://heroku.com/deploy?template=URL">heroku</a>, where URL is changed to a fork address e.g. github.com/USERNAME/gh-oauth-server</p>
</li>
<li>
<p>Create the software. Change the original gh-oauth.imsun.net to â€œYourAppNameâ€.herokuapp.com</p>
</li>
</ul>
<p>Enjoy~</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[How Mi Cc9e Flash into Custom Android]]></title>
            <link>https://wll.moe/posts/xiaomicc9</link>
            <guid>https://wll.moe/posts/xiaomicc9</guid>
            <pubDate>Thu, 24 Jun 2021 16:00:00 GMT</pubDate>
            <description><![CDATA[How Mi cc9e Flash into custom Android]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>Two ROMs are provided, both of which need to unlock BL and flash in <a href="https://mifirm.net/downloadtwrp/151">TWRP</a>, And <a href="https://sourceforge.net/projects/xiaomi-eu-multilang-miui-roms/files/xiaomi.eu/MIUI-WEEKLY-RELEASES/20.6.11/xiaomi.eu_multi_MICC9e_20.6.11_v12-10.zip/download">EU ROM</a></p>
</blockquote>
<h1 id="rom1"><a aria-hidden="true" tabindex="-1" href="#rom1"><span class="icon icon-link"></span></a>Rom#1</h1>
<blockquote>
<p>This is A3 ROM, but it works fine</p>
</blockquote>
<ol>
<li>Dowdload <a href="https://crdroid.net/laurel_sprout">Crdorid ROM</a></li>
<li>Download <a href="https://androidfilehost.com/?fid=818070582850510260">exe</a></li>
<li>Unzip payload_dumper.zip. Include payload_imput,payload_output and payload.exe</li>
<li>Extrqct Crdroid_rom.zip, copy payload.bin to payload_input</li>
<li>Run payload_dumper.exe, wait it colsed,then get psystem.img from payload_output</li>
<li>Erase <code>data</code> and <code>cache</code>, flash system.img</li>
<li><code>Please don't reboot</code>, flash <a href="https://github.com/topjohnwu/Magisk/releases/download/v20.4/Magisk-v20.4.zip">magisk 20.x</a></li>
<li>Enjoy it~</li>
</ol>
<h1 id="rom2"><a aria-hidden="true" tabindex="-1" href="#rom2"><span class="icon icon-link"></span></a>Rom#2</h1>
<blockquote>
<p>This is a Android 10 GSI</p>
</blockquote>
<ol>
<li><a href="https://github.com/phhusson/treble_experimentations/releases/download/v219/system-quack-arm64-ab-gapps.img.xz">Download</a></li>
<li>Enjoy it~</li>
</ol>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Android_logo_2019_%28stacked%29.svg/150px-Android_logo_2019_%28stacked%29.svg.png" alt=""/>]]></content:encoded>
        </item>
    </channel>
</rss>